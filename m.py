import cv2
import numpy as np

# Define the line segments
segments = [
    [[508, 1373], [483, 1339]], [[483, 1339], [487, 1348]], [[490, 1346], [483, 1339]], [[487, 1348], [490, 1346]],
    [[538, 1320], [561, 1272]], [[561, 1272], [555, 1280]], [[558, 1281], [561, 1272]], [[555, 1280], [558, 1281]],
    [[453, 1754], [416, 1748]], [[416, 1748], [425, 1751]], [[425, 1748], [416, 1748]], [[425, 1751], [425, 1748]],
    [[464, 1691], [512, 1694]], [[512, 1694], [503, 1692]], [[503, 1695], [512, 1694]], [[503, 1692], [503, 1695]],
    [[465, 1500], [505, 1494]], [[505, 1494], [495, 1494]], [[496, 1497], [505, 1494]], [[495, 1494], [496, 1497]],
    [[749, 1717], [792, 1691]], [[792, 1691], [783, 1695]], [[784, 1697], [792, 1691]], [[783, 1695], [784, 1697]],
    [[1140, 1759], [1140, 1737]], [[1140, 1737], [1138, 1746]], [[1141, 1746], [1140, 1737]], [[1138, 1746], [1141, 1746]],
    [[1291, 1785], [1257, 1808]], [[1257, 1808], [1266, 1804]], [[1264, 1801], [1257, 1808]], [[1266, 1804], [1264, 1801]],
    [[501, 1563], [461, 1506]], [[461, 1506], [463, 1510]], [[465, 1509], [461, 1506]], [[463, 1510], [465, 1509]],
    [[940, 1497], [980, 1446]], [[980, 1446], [978, 1447]], [[979, 1448], [980, 1446]], [[978, 1447], [979, 1448]],
    [[917, 1494], [838, 1537]], [[838, 1537], [840, 1536]], [[839, 1535], [838, 1537]], [[840, 1536], [839, 1535]],
    [[963, 1506], [1011, 1557]], [[1011, 1557], [1010, 1555]], [[1009, 1555], [1011, 1557]], [[1010, 1555], [1009, 1555]],
    [[917, 1480], [912, 1443]], [[912, 1443], [912, 1445]], [[912, 1445], [912, 1443]], [[912, 1445], [912, 1445]],
    [[491, 1599], [461, 1752]], [[491, 1599], [476, 1600]], [[576, 1608], [491, 1599]], [[672, 1618], [491, 1599]],
    [[509, 1511], [491, 1599]], [[461, 1752], [744, 1796]], [[461, 1752], [445, 1830]], [[603, 1610], [576, 1608]],
    [[576, 1608], [569, 1667]], [[699, 1621], [672, 1618]], [[672, 1618], [670, 1557]], [[520, 1451], [509, 1511]],
    [[563, 1515], [509, 1511]], [[744, 1796], [749, 1721]], [[744, 1796], [1144, 1857]], [[445, 1830], [436, 1880]],
    [[625, 1613], [603, 1610]], [[597, 1670], [603, 1610]], [[569, 1667], [597, 1670]], [[755, 1626], [699, 1621]],
    [[697, 1559], [699, 1621]], [[670, 1557], [697, 1559]], [[535, 1379], [520, 1451]], [[520, 1451], [565, 1453]],
    [[566, 1453], [563, 1515]], [[749, 1721], [750, 1703]], [[1293, 1792], [749, 1721]], [[1144, 1857], [1192, 1864]],
    [[1136, 1930], [1144, 1857]], [[625, 1613], [618, 1675]], [[618, 1675], [597, 1670]], [[750, 1703], [755, 1626]],
    [[969, 1649], [755, 1626]], [[542, 1342], [535, 1379]], [[535, 1379], [579, 1382]], [[579, 1382], [565, 1453]],
    [[565, 1453], [566, 1453]], [[566, 1453], [608, 1456]], [[750, 1703], [1293, 1774]], [[1192, 1864], [1293, 1879]],
    [[1192, 1864], [1184, 1937]], [[1184, 1937], [1136, 1930]], [[1012, 1653], [969, 1649]], [[971, 1576], [969, 1649]],
    [[579, 1382], [622, 1385]], [[608, 1456], [652, 1458]], [[622, 1385], [608, 1456]], [[1174, 1670], [1012, 1653]],
    [[1012, 1653], [1014, 1578]], [[1014, 1578], [971, 1576]], [[622, 1385], [664, 1389]], [[664, 1389], [652, 1458]],
    [[652, 1458], [724, 1462]], [[1223, 1676], [1174, 1670]], [[1174, 1670], [1178, 1588]], [[724, 1462], [768, 1465]],
    [[727, 1388], [724, 1462]], [[1294, 1683], [1223, 1676]], [[1227, 1591], [1223, 1676]], [[1227, 1591], [1178, 1588]],
    [[768, 1465], [898, 1472]], [[768, 1465], [768, 1460]], [[727, 1388], [787, 1392]], [[898, 1472], [937, 1475]],
    [[898, 1472], [895, 1534]], [[768, 1460], [786, 1461]], [[787, 1392], [786, 1461]], [[939, 1299], [937, 1475]],
    [[937, 1475], [941, 1475]], [[895, 1534], [938, 1536]], [[941, 1475], [984, 1477]], [[938, 1536], [941, 1475]],
    [[938, 1536], [981, 1539]], [[981, 1539], [984, 1477]], [[984, 1477], [990, 1478]], [[990, 1478], [1046, 1481]],
    [[990, 1478], [997, 1404]], [[1046, 1481], [1184, 1489]], [[1052, 1407], [1046, 1481]], [[997, 1404], [1052, 1407]],
    [[1184, 1489], [1221, 1491]], [[1186, 1414], [1184, 1489]], [[1221, 1491], [1296, 1496]], [[1221, 1491], [1222, 1416]],
    [[1222, 1416], [1186, 1414]]
]





# Draw the coordinate text for each unique point


# Define the label data as a list of tuples: (position, text)
labels = [
    ((29, 78), "A"),
    ((941, 48), "B"),
    ((895, 125), "3"),
    ((133, 660), "2"),
    ((914, 412), "20"),
    ((914, 423), "4"),
    ((900, 617), "21"),
    ((72, 592), "22"),
    ((52, 347), "23"),
    ((90, 631), "1"),
    ((866, 1052), "C"),
    ((133, 1053), "D"),
]

# Create a blank canvas
canvas = np.ones((2500, 2000, 3), dtype=np.uint8) * 255

# Draw the text labels on the canvas
# for (x, y), text in labels:
#     cv2.putText(
#         canvas,
#         str(text),
#         (x, y),
#         fontFace=cv2.FONT_HERSHEY_SIMPLEX,
#         fontScale=2,
#         color=(0, 128, 0),
#         thickness=4,
#         lineType=cv2.LINE_AA
#     )

# drawn_points = set()
# for seg in segments:
#     for pt in seg:
#         pt_tuple = tuple(pt)
#         if pt_tuple not in drawn_points:
#             cv2.putText(
#                 canvas,
#                 f"{pt_tuple}",
#                 pt_tuple,
#                 fontFace=cv2.FONT_HERSHEY_SIMPLEX,
#                 fontScale=1.2,
#                 color=(0, 128, 0),
#                 thickness=3,
#                 lineType=cv2.LINE_AA
#             )
#             drawn_points.add(pt_tuple)


# Draw the lines
for seg in segments:
    pt1, pt2 = tuple(seg[0]), tuple(seg[1])
    cv2.line(canvas, pt1, pt2, color=(0, 0, 255), thickness=3)

# Display the image
# cv2.imshow("Polyline", canvas)
# cv2.waitKey(0)
# cv2.destroyAllWindows()

cv2.imwrite("canvas.png", canvas)