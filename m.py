import cv2
import numpy as np

# Define the line segments
segments = [
    [[1452, 1575], [1692, 1561]],
    [[844, 1877], [777, 1652]],
    [[823, 2014], [838, 1914]],
    [[838, 1914], [844, 1877]],
    [[811, 1915], [838, 1914]],
    [[838, 1914], [1016, 1918]],
    [[1016, 1918], [1018, 1929]],
    [[1128, 1594], [1155, 1913]],
    [[1452, 1575], [1477, 1878]],
    [[1438, 1576], [1452, 1575]],
    [[1128, 1594], [1172, 1592]],
    [[773, 1616], [968, 1604]],
    [[753, 1455], [945, 1443]],
    [[1427, 1413], [1490, 1409]],
    [[954, 1507], [945, 1443]],
    [[968, 1604], [959, 1541]],
    [[959, 1541], [954, 1507]],
    [[1499, 1474], [1490, 1409]],
    [[1429, 1515], [1438, 1576]],
    [[1434, 1478], [1499, 1474]],
    [[1172, 1592], [1167, 1530]],
    [[1376, 1580], [1375, 1518]],
    [[1372, 1482], [1365, 1417]],
    [[1434, 1478], [1427, 1413]],
    [[1162, 1494], [1155, 1430]],
    [[1490, 1409], [1552, 1405]],
    [[1552, 1405], [1667, 1398]],
    [[1499, 1474], [1509, 1512]],
    [[1509, 1512], [1512, 1523]],
    [[1512, 1523], [1687, 1509]],
    [[1429, 1515], [1478, 1513]],
    [[1478, 1513], [1482, 1524]],
    [[1512, 1523], [1514, 1528]],
    [[1482, 1524], [1484, 1529]],
    [[1478, 1513], [1494, 1513]],
    [[1494, 1513], [1509, 1512]],
    [[1484, 1529], [1499, 1528]],
    [[1499, 1528], [1514, 1528]],
    [[1494, 1513], [1499, 1528]],
    [[1351, 1581], [1376, 1580]],
    [[1350, 1520], [1375, 1518]],
    [[1351, 1581], [1350, 1520]],
    [[1376, 1580], [1413, 1578]],
    [[1413, 1578], [1438, 1576]],
    [[1375, 1518], [1404, 1517]],
    [[1404, 1517], [1429, 1515]],
    [[1404, 1517], [1413, 1578]],
    [[1162, 1494], [1339, 1484]],
    [[1339, 1484], [1372, 1482]],
    [[1155, 1430], [1335, 1419]],
    [[1335, 1419], [1365, 1417]],
    [[1339, 1484], [1335, 1419]],
    [[1372, 1482], [1401, 1480]],
    [[1401, 1480], [1434, 1478]],
    [[1365, 1417], [1397, 1415]],
    [[1397, 1415], [1427, 1413]],
    [[1401, 1480], [1397, 1415]],
    [[968, 1604], [991, 1603]],
    [[959, 1541], [982, 1540]],
    [[991, 1603], [982, 1540]],
    [[991, 1603], [1037, 1600]],
    [[982, 1540], [1027, 1538]],
    [[1037, 1600], [1027, 1538]],
    [[1037, 1600], [1084, 1597]],
    [[1084, 1597], [1128, 1594]],
    [[1027, 1538], [1073, 1535]],
    [[1073, 1535], [1084, 1597]],
    [[954, 1507], [1093, 1498]],
    [[1093, 1498], [1162, 1494]],
    [[945, 1443], [1085, 1434]],
    [[1085, 1434], [1155, 1430]],
    [[1085, 1434], [1093, 1498]],
    [[1073, 1535], [1120, 1532]],
    [[1120, 1532], [1167, 1530]],
    [[1120, 1532], [1128, 1594]],
    [[1499, 1474], [1683, 1463]],
    [[1172, 1592], [1229, 1588]],
    [[1229, 1588], [1351, 1581]],
    [[1167, 1530], [1228, 1526]],
    [[1228, 1526], [1350, 1520]],
    [[1229, 1588], [1228, 1526]],
    [[2382, 0], [2382, 3369]],
]

# Draw the coordinate text for each unique point


# Define the label data as a list of tuples: (position, text)
labels = [
    ((29, 78), "A"),
    ((941, 48), "B"),
    ((895, 125), "3"),
    ((133, 660), "2"),
    ((914, 412), "20"),
    ((914, 423), "4"),
    ((900, 617), "21"),
    ((72, 592), "22"),
    ((52, 347), "23"),
    ((90, 631), "1"),
    ((866, 1052), "C"),
    ((133, 1053), "D"),
]

# Create a blank canvas
canvas = np.ones((2500, 2000, 3), dtype=np.uint8) * 255

# Draw the text labels on the canvas
# for (x, y), text in labels:
#     cv2.putText(
#         canvas,
#         str(text),
#         (x, y),
#         fontFace=cv2.FONT_HERSHEY_SIMPLEX,
#         fontScale=2,
#         color=(0, 128, 0),
#         thickness=4,
#         lineType=cv2.LINE_AA
#     )

# drawn_points = set()
# for seg in segments:
#     for pt in seg:
#         pt_tuple = tuple(pt)
#         if pt_tuple not in drawn_points:
#             cv2.putText(
#                 canvas,
#                 f"{pt_tuple}",
#                 pt_tuple,
#                 fontFace=cv2.FONT_HERSHEY_SIMPLEX,
#                 fontScale=1.2,
#                 color=(0, 128, 0),
#                 thickness=3,
#                 lineType=cv2.LINE_AA
#             )
#             drawn_points.add(pt_tuple)


# Draw the lines
for seg in segments:
    pt1, pt2 = tuple(seg[0]), tuple(seg[1])
    cv2.line(canvas, pt1, pt2, color=(0, 0, 255), thickness=3)

# Display the image
# cv2.imshow("Polyline", canvas)
# cv2.waitKey(0)
# cv2.destroyAllWindows()

cv2.imwrite("canvas1.png", canvas)